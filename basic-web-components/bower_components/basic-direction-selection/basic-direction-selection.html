<!--
Aspect which maps direction semantics (goLeft, goRight, etc.) to selection
semantics (selectPrevious, selectNext, etc.).

@element basic-direction-selection
-->

<link rel="import" href="../basic-aspect/basic-aspect.html">

<script>
window.Basic = window.Basic || {};

window.Basic.DirectionSelection = {

  contribute: {

    goDown: function() {
      return this.collective.selectNext();
    },

    goEnd: function() {
      return this.collective.selectLast();
    },

    goLeft: function() {
      return this.collective.selectPrevious();
    },

    goRight: function() {
      return this.collective.selectNext();
    },

    goStart: function() {
      return this.collective.selectFirst();
    },

    goUp: function() {
      return this.collective.selectPrevious();
    },

    // Default implementations. These will typically be handled by other aspects
    // in the collective.
    selectFirst: Basic.Collective.defaultMethod,
    selectLast: Basic.Collective.defaultMethod,
    selectNext: Basic.Collective.defaultMethod,
    selectPrevious: Basic.Collective.defaultMethod

  },

  name: 'DirectionSelection'

  // TODO: Need to find home for this DOM-specific navigation code.
  // This handles moving in lists where items arranged horizontally.
  //
  // Return true if the selected control is displayed inline.
  // _selectedItemIsInline: function() {
  //   var selectedItem = this.collective.selectedItem;
  //   if (!selectedItem) {
  //     return false;
  //   }
  //   var style = getComputedStyle(selectedItem);
  //   var inlineDisplayValues = ['inline', 'inline-block', 'inline-table'];
  //   var itemIsInline = (inlineDisplayValues.indexOf(style.display) >= 0);
  //   return itemIsInline;
  // }

};

Polymer({

  aspects: [Basic.DirectionSelection],

  behaviors: [Basic.Aspect],

  is: 'basic-direction-selection'

});
</script>
